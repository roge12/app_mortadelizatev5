function trace(){if(traceEnabled){if(Utils.browser.msie)return!0;if(traceEnabled&&"undefined"!=typeof console&&console.log)try{var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}catch(r){}}}function preventDefaults(t){var r=t||window.event;r.preventDefault?r.preventDefault():(r.returnValue=!1,r.cancelBubble=!0)}function shuffleArray(t){for(var r=t.length-1;r>0;r--){var e=Math.floor(Math.random()*(r+1)),i=t[r];t[r]=t[e],t[e]=i}return t}function popup(t,r,e,i,s){try{myleft=screen.width?(screen.width-e)/2:100,mytop=screen.height?(screen.height-i)/2:100,properties="width="+e+",height="+i+",scrollbars="+s+",top="+mytop+",left="+myleft;var n=window.open(t,r,properties);if(n.focus(),null==n)return!1;if(window.opera&&!n.opera)return!1}catch(a){return!1}return!0}function extractBackgroundUrl(t){return t.replace(/"/g,"").replace(/url\(|\)$/gi,"")}var Utils=Utils||{};Utils.os={init:function(){this.type=this.searchString(this.dataOs)||"Other",this.version=this.searchVersion(navigator.userAgent.toLowerCase())||"Unknown",this.win=this.searchType(this.dataOs[0]),this.mac=this.searchType(this.dataOs[1]),this.unix=this.searchType(this.dataOs[2]),this.linux=this.searchType(this.dataOs[3])},searchString:function(t){for(var r=0;r<t.length;r++){var e=t[r].string;if(-1!=e.indexOf(t[r].subString))return t[r].identity}},searchVersion:function(t){switch(this.type){case"win":if(/windows nt 6.2/.test(t))return"8";if(/windows nt 6.1/.test(t))return"7";if(/windows nt 6.0/.test(t))return"vista";if(/windows nt 5.1/.test(t))return"xp";if(/windows nt 5.0/.test(t))return"2k";break;case"mac":if(/mac os x 10.9|mac os x 10_9/.test(t))return"9";if(/mac os x 10.8|mac os x 10_8/.test(t))return"8";if(/mac os x 10.7|mac os x 10_7/.test(t))return"7";if(/mac os x 10.6|mac os x 10_6/.test(t))return"6";if(/mac os x 10.5|mac os x 10_5/.test(t))return"5";break;default:return}},searchType:function(t){var r=t.string;return-1!=r.indexOf(t.subString)?!0:!1},dataOs:[{string:navigator.appVersion,subString:"Win",identity:"win"},{string:navigator.appVersion,subString:"Mac",identity:"mac"},{string:navigator.appVersion,subString:"X11",identity:"unix"},{string:navigator.appVersion,subString:"Linux",identity:"linux"}]},Utils.os.init(),Utils.browser={init:function(){this.type=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown",this.chrome=this.searchType(this.dataBrowser[0]),this.msie=this.searchType(this.dataBrowser[1]),this.firefox=this.searchType(this.dataBrowser[2]),this.safari=this.searchType(this.dataBrowser[3]),this.opera=this.searchType(this.dataBrowser[4]),this.mobile=this.searchMobile(),/Trident\/7\./.test(navigator.userAgent)&&(this.type=this.dataBrowser[1].identity,this.version="11",this.msie=!0)},searchString:function(t){for(var r=0;r<t.length;r++){var e=t[r].string;if(this.versionSearchString=t[r].subString,-1!=e.indexOf(t[r].subString))return t[r].identity}},searchVersion:function(t){var r=t.indexOf(this.versionSearchString);if(-1!=r)return parseFloat(t.substring(r+this.versionSearchString.length+1))},searchType:function(t){var r=t.string;return-1!=r.indexOf(t.subString)?!0:!1},searchMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|bada/i)},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"msie"},{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"Safari",identity:"safari"},{string:navigator.userAgent,subString:"Opera",identity:"opera"}]},Utils.browser.init();var traceEnabled=!0;Utils.vendor=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":navigator.userAgent.indexOf("Trident")>-1?"ms":"",Utils.soundExt="Moz"==Utils.vendor?".ogg":".mp3",Utils.isLocal="file:"==window.location.protocol?!0:!1,Utils.isMac=-1!=navigator.platform.toLowerCase().indexOf("mac"),Utils.isWin=-1!=navigator.platform.toLowerCase().indexOf("win"),Utils.isSaf5=Utils.browser.safari&&parseInt(Utils.browser.version)<6,Utils.isIE8=Utils.browser.msie&&parseInt(Utils.browser.version)<9,Utils.isIOS5=-1!=navigator.userAgent.indexOf("OS 5"),Utils.isOSX_ML_M_Saf=Utils.os.mac&&parseInt(Utils.os.version)>7&&Utils.browser.safari,Utils.hasCanvas=!Utils.isIE8&&!Utils.isIOS5,Utils.isAndroid=/android/i.test(navigator.userAgent.toLowerCase()),Utils.isIDevice=/ipod|iphone|ipad/i.test(navigator.userAgent.toLowerCase()),Utils.parallaxEnabled=!Utils.browser.mobile&&!Utils.isIE8&&!Utils.isSaf5,Utils.adjustFont=Utils.browser.chrome||Utils.browser.mobile,Utils.upgradeCheck=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("google web preview")?!1:Utils.browser.chrome&&parseInt(Utils.browser.version)<20?!0:Utils.browser.msie&&parseInt(Utils.browser.version)<=8?!0:Utils.browser.opera&&parseInt(Utils.browser.version)<=9?!0:Utils.browser.firefox&&parseInt(Utils.browser.version)<=14?!0:Utils.browser.safari&&Utils.browser.mobile?!1:Utils.browser.safari&&parseInt(Utils.browser.version)<5?!0:!1},Utils.bind=function(t,r,e){t.addEventListener?t.addEventListener(r,e,!1):t.attachEvent&&t.attachEvent("on"+r,e)},Utils.unbind=function(t,r,e){t.removeEventListener?t.removeEventListener(r,e,!1):t.detachEvent&&t.detachEvent("on"+r,e)},Utils.resizeToContainer=function(t,r,e){var i,s,n=$(r).width(),a=$(r).height(),o=n/a;e>o?(s=a,i=s*e):(i=n,s=i/e),$(t).css("width",i+"px"),$(t).css("height",s+"px"),$(t).css("left",(n-i)/2+"px"),$(t).css("top",(a-s)/2+"px")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.replaceAt=function(t,r){var e=this.charAt(t),i=this+"";if(" "!=e&&"<"!=e&&">"!=e&&"b"!=e&&"r"!=e&&"/"!=e)var i=this.substr(0,t)+r+this.substr(t+r.length);return i},String.prototype.parseURL=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+/g,function(t){return"<a href='"+t+"' target='_blank'>"+t+"</a>"})},String.prototype.parseUsername=function(){return this.replace(/[@]+[A-Za-z0-9-_]+/g,function(t){var r=t.replace("@","");return"<a href='http://twitter.com/"+r+"' target='_blank'>"+t+"</a>"})},String.prototype.parseTags=function(){return this.replace(/[#]+[A-Za-z0-9-_]+/g,function(t){var r=t.replace("#","%23");return"<a href='http://twitter.com/search?q="+r+"&src=hash' target='_blank'>"+t+"</a>"})};